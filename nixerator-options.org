#+TITLE: Nixerator Application Module Options
#+OPTIONS: toc:2 num:t
#+TOC: headlines 2

This document lists the available options for the Nixerator application module,
grouped by area. Values show types, defaults, and examples when available.

* Usage
#+BEGIN_SRC nix
nixerator.lib.simple.yamlFromApp {
  name = "myapp";
  namespace = "default";
  image = "repo/image:tag";
  replicas = 2;
  service.enable = true;
  ingress.enable = true; ingress.host = "myapp.example.com";
  hpa.enable = true; hpa.maxReplicas = 4;
  pdb.enable = true; pdb.minAvailable = 1;
  serviceAccount.enable = true;
}
#+END_SRC

* Options
** Core
| Option | Type | Default | Description | Example |
|-|--|--|--|-|
| annotations | attrsOf | {} | Additional annotations applied to all resources. |  |
| env | attrsOf | {} | Environment variables as attrset of strings. | {"FOO":"bar","LOG_LEVEL":"info"} |
| image | str | - | Container image, e.g. nginx:1.25. |  |
| labels | attrsOf | {} | Additional labels applied to all resources. |  |
| name | str | - | Application name; used for labels and resource names. |  |
| namespace | str | default | Kubernetes namespace for all resources. |  |
| replicas | int | 1 | Deployment replica count. |  |
| secrets | attrsOf | {} | Secrets to create, as an attrset keyed by secret name. | {"my-secret":{"stringData":{"PASSWORD":"s3cr3t"}}} |

** Hpa
| Option | Type | Default | Description | Example |
|-|--|--|--|-|
| enable | bool | false | Enable HorizontalPodAutoscaler for the deployment. |  |
| maxReplicas | int | - | Maximum replicas. | 5 |
| minReplicas | int | 1 | Minimum replicas. |  |
| targetCPUUtilizationPercentage | int | 80 | CPU target utilization percentage. |  |

** Ingress
| Option | Type | Default | Description | Example |
|-|--|--|--|-|
| enable | bool | false | Expose the app via an Ingress rule. |  |
| host | nullOr | null | Ingress host (required if enabled). | hello.local |
| path | str | / | Ingress path. |  |
| pathType | str | Prefix | Ingress pathType. |  |
| tls | nullOr | null | Optional TLS entries for the ingress. |  |

** Service
| Option | Type | Default | Description | Example |
|-|--|--|--|-|
| enable | bool | true | Expose the app via a ClusterIP Service. |  |
| port | int | 80 | Service port number. |  |
| targetPort | int | 8080 | Container port to target. |  |
| type | str | ClusterIP | Service type (ClusterIP, NodePort, LoadBalancer). |  |
